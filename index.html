<!DOCTYPE html>
<html>
<head>
  <title>Acumulador con Horario (Persistente)</title>
</head>
<body>

  <h1>Valor: <span id="valor">0</span></h1>

  <script>
    // Configuración
    const horaInicio = 8;    
    const horaFin = 17;      
    const intervaloSegundos = 5; 
    const incremento = 5;     

    // Intentar cargar el valor del almacenamiento local
    let valor = localStorage.getItem('valorAcumulado');

    // Si no hay valor almacenado, inicializar en 0
    if (valor === null) {
      valor = 0;
    } else {
      // Convertir de string a número
      valor = parseInt(valor);
    }

    const elementoValor = document.getElementById("valor");
    elementoValor.textContent = valor; // Mostrar valor inicial

    function actualizarValor() {
      const ahora = new Date();
      const horaActual = ahora.getHours();

      if (horaActual >= horaInicio && horaActual < horaFin) {
        valor += incremento;
        elementoValor.textContent = valor;

        // Guardar el valor en el almacenamiento local
        localStorage.setItem('valorAcumulado', valor);
      } 
    }

    setInterval(actualizarValor, intervaloSegundos * 1000); 
  </script>

</body>
</html>
